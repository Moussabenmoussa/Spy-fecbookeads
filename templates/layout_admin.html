<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 font-sans">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-gray-800 border-r border-gray-700 p-6">
            <h1 class="text-2xl font-bold text-blue-500 mb-8">Admin Panel</h1>
            <nav class="space-y-4">
                <button onclick="showTab('settings')" class="w-full text-left p-3 rounded hover:bg-gray-700">‚öôÔ∏è Global Settings</button>
                <button onclick="showTab('tools')" class="w-full text-left p-3 rounded hover:bg-gray-700">üõ† Manage Tools</button>
                <a href="/" target="_blank" class="block w-full text-left p-3 rounded text-green-400 hover:bg-gray-700">‚Üó View Site</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-10 overflow-y-auto">
            
            <!-- Tab: Settings -->
            <div id="settings" class="tab-content active">
                <h2 class="text-3xl font-bold mb-6">Site Configuration (AdSense & SEO)</h2>
                <form action="/system/admin/settings" method="POST" class="bg-gray-800 p-8 rounded-xl space-y-6 max-w-3xl">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Site Name</label>
                            <input type="text" name="site_name" value="{{ config.site_name }}" class="w-full bg-gray-700 p-3 rounded border border-gray-600">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Contact Email</label>
                            <input type="email" name="contact_email" value="{{ config.contact_email }}" class="w-full bg-gray-700 p-3 rounded border border-gray-600">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm text-gray-400 mb-2">Site Description (Meta)</label>
                        <input type="text" name="site_desc" value="{{ config.site_description }}" class="w-full bg-gray-700 p-3 rounded border border-gray-600">
                    </div>

                    <div>
                        <label class="block text-sm text-green-400 mb-2">Head Code (Google Search Console / Analytics)</label>
                        <textarea name="head_code" class="w-full h-32 bg-gray-700 p-3 rounded border border-gray-600 font-mono text-xs">{{ config.head_code }}</textarea>
                    </div>

                    <div>
                        <label class="block text-sm text-blue-400 mb-2">AdSense Code (Auto Ads Script)</label>
                        <textarea name="adsense_code" class="w-full h-32 bg-gray-700 p-3 rounded border border-gray-600 font-mono text-xs">{{ config.adsense_code }}</textarea>
                    </div>

                    <button class="bg-blue-600 hover:bg-blue-500 px-6 py-3 rounded font-bold">Save Configuration</button>
                </form>
            </div>

            <!-- Tab: Tools -->
            <div id="tools" class="tab-content">
                <h2 class="text-3xl font-bold mb-6">Content Management</h2>
                <div class="grid gap-6">
                    {% for tool in tools %}
                    <div class="bg-gray-800 p-6 rounded-xl border border-gray-700">
                        <form action="/system/admin/tool/edit" method="POST" class="space-y-4">
                            <input type="hidden" name="slug" value="{{ tool.slug }}">
                            <div class="flex justify-between items-center">
                                <h3 class="text-xl font-bold text-blue-300">{{ tool.slug }}</h3>
                                <button class="text-xs bg-green-900 text-green-300 px-2 py-1 rounded">Update</button>
                            </div>
                            
                            <input type="text" name="title" value="{{ tool.title }}" class="w-full bg-gray-700 p-2 rounded">
                            <input type="text" name="desc" value="{{ tool.short_desc }}" class="w-full bg-gray-700 p-2 rounded">
                            
                            <label class="block text-xs text-gray-500">SEO Content (HTML Allowed)</label>
                            <textarea name="seo" class="w-full h-40 bg-gray-700 p-2 rounded font-mono text-sm">{{ tool.seo_content }}</textarea>
                            
                            <label class="block text-xs text-gray-500">User Guide</label>
                            <textarea name="guide" class="w-full h-20 bg-gray-700 p-2 rounded">{{ tool.guide }}</textarea>
                        </form>
                    </div>
                    {% endfor %}
                </div>
            </div>

        </main>
    </div>

    <script>
        function showTab(id) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }
    </script>
</body>
</html>
